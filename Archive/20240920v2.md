# 「國內反洗錢系統資料庫優化」會議備忘錄

**會議日期**: 2024年9月20日  
**時間**: 上午10:00  
**地點**: 線上會議  
**參與者**:  
- 資料庫處理負責人
- AML 系統運維團隊  
- 資料庫相關技術人員

---

## 1. 會議目標

本次會議的目標是檢討 AML 系統的資料庫步優化方案，討論資料表的分割策略與POC實作情形，並通過改進資料補償與系統轉換過程來減少系統停機時間。

---

## 2. 關鍵討論

### AML 系統資料庫資料表的資料異動處理與同步作業

會議中詳細介紹了 AML 系統的日常系統作業流程，強調在系統上線前一天提前進行資料補償作業，確保系統在上線日當天的停機時間最小化。團隊認為此舉可以減少當日大量資料異動所帶來的延遲風險。

### 批次處理與資料分割策略

探討了不同資料表的分割策略，建議依照資料表的特性來進行分割，根據數據量大小和查詢效能來決定是否按年、半年或季度進行分割。建議先處理較小的資料表，以便及早發現問題並積累經驗。

### Partition 策略與索引優化

會議進行了有關 Partition 策略的深入討論，特別針對大型資料表進行最佳化切割，以提升查詢效能。對於目前因為概念驗證階段缺乏建置適當索引的資料表，會在後續第二階段概念驗證建立 Cluster Index 以評估實際作業的效率及時間。

### 系統停機時間與資料補償作業的關聯

團隊解釋了資料補償作業的時間長短與系統停機時間之間的直接關聯性。若能提前完成資料補償作業，系統停機時間可縮短至數分鐘。團隊同意提前執行資料補償，以減少停機時間。

### 資料表切割與效能優化

針對大型資料表，參會者建議依據數據量按半年或季度進行分割，並以 Partition 策略來優化查詢效能。會議指出，若表格筆數過多，可能會影響效能，因此需要仔細評估分割的筆數與大小。

---

## 3. 決策

- **資料同步預執行**: 資料補償作業將在上線日前一天完成，並在上線當天進行最後的資料檢查，以減少停機時間。
- **Partition 策略**: 對大型資料表進行分割，依據數據量來決定分割大小，必要於驗證時建立 Cluster Index 以正確評估實行效能及時間。
- **停機時間優化**: 提前同步資料可將系統停機時間縮短到最小。
- **執行順序**: 優先處理較小的資料表，以確保問題及早發現，累積經驗後再處理大型資料表。

---

## 4. 行動項目

| 任務                                        | 負責人  | 截止日期     |
|---------------------------------------------|---------|--------------|
| 驗證預執行資料補償                              | 資料庫處理團隊    | 9月29日      |
| 驗證在大型資料表須建立 Cluster Index            | 資料庫處理團隊 | 9月25日      |
| 評估資料分割後系統運行情況                  | AML Ops | 10月3日      |
| 檢討並確認資料表的分割策略                  | 資料庫處理團隊 && AML Ops    | 10月1日      |

---

## 5. 下一步

團隊將根據數據量與索引效能的評估結果，最終確定 Partition 策略。下一次會議將在完成資料補償與驗證實作評估後召開。

---

## 6. 下次會議時間

下次會議時間待定於10/18，將在完成資料補償作業後安排。

---

此會議備忘錄採用亞馬遜知名的「敘述風格」，重點在於決策、行動項目與後續步驟，確保所有參與者的清晰溝通與責任分工。
